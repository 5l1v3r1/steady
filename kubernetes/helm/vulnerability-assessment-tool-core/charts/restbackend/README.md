
[![version](https://img.shields.io/badge/version-0.1.0-brightgreen.svg)](https://shields.io/)  [![helmutilsversion](https://img.shields.io/badge/helmutilsversion-0.1.2-orange.svg)](https://shields.io/)  [![githublicense](https://img.shields.io/badge/license-Apache_2.0-blue.svg)](https://shields.io/)

# restbackend

## .Introduction
A Chart for vulas's springboot restbackend

## .Prerequisites
- Kubernetes 1.9 with Beta APIs enabled
- Persistent volume provisionner support in underlying infrastructure

## .Installing the chart
To install the chart with the release name `release`:
```console
$ helm install release restbackend --tls
```

The command deploys the restbackend subchart of the vulnerability assessment tool 0.1.0
on the Kubernetes cluster in the default configuration. The configuration section lists
the parameters that can be configured during installation.

## .Uninstalling the chart
To uninstall/delete the `release` deployment:
```console
$ helm delete release
```

## .Configuration
The following table lists the configurable parameters of the restbackend chart and their default values.


| Parameter  |	Description  |	Default |
|:----------:|:-------------:|:--------:|
| <a href='#0'>replicas</a> | desired number of instances | `2` |
| <a href='#1'>licenseConfidenceThreshold</a> |  | `0.2` |
| <a href='#2'>langConfidenceThreshold</a> |  | `0.2` |
| <a href='#3'>backoffDuration</a> | delay between probe attempts | `5` |
| <a href='#4'>debug</a> |  | `True` |
| <a href='#5'>rbac.create</a> |  | `True` |
| <a href='#6'>horizontalPodAutoScaler.enabled</a> | bool to enable HPA | `False` |
| <a href='#7'>podDisruptionBudget.minAvailable</a> | ensure availability during disruption | `1` |
| <a href='#8'>livenessProbe.enabled</a> | boolean to indicate whether or not livenessProbe is activated | `False` |
| <a href='#9'>livenessProbe.initialDelaySeconds</a> | delay before attempt in seconds | `20` |
| <a href='#10'>livenessProbe.periodSeconds</a> | period between attempts | `5` |
| <a href='#11'>livenessProbe.timeoutSeconds</a> | max response timeout | `5` |
| <a href='#12'>livenessProbe.failureThreshold</a> | attempt amounts before failure | `15` |
| <a href='#13'>readinessProbe.enabled</a> | boolean to indicate whether or not readinessProbe is activated | `False` |
| <a href='#14'>readinessProbe.initialDelaySeconds</a> | delay before attempt in seconds | `20` |
| <a href='#15'>readinessProbe.periodSeconds</a> | period between attempts | `10` |
| <a href='#16'>readinessProbe.timeoutSeconds</a> | max response timeout | `5` |
| <a href='#17'>readinessProbe.failureThreshold</a> | attempt amounts before failure | `5` |
| <a href='#18'>selfAntiAffinity.soft</a> | flag for affinity type | `True` |
| <a href='#19'>selfAntiAffinity.weight</a> | weight for affinity | `100` |
| <a href='#20'>image.initContainer.pullPolicy</a> | {'Always','IfNotPresent','Never'} | `Always` |
| <a href='#21'>image.initContainer.name</a> |  | `postgres` |
| <a href='#22'>image.initContainer.tag</a> | image tag | `11.3-alpine` |
| <a href='#23'>image.mainContainer.pullPolicy</a> | {'Always','IfNotPresent','Never'} | `IfNotPresent` |
| <a href='#24'>image.mainContainer.name</a> |  | `vulas/vulnerability-assessment-tool-rest-backend` |
| <a href='#25'>image.mainContainer.tag</a> | image tag | `3.1.7-SNAPSHOT` |

---
## .Details about configuration
<details closed><summary><a id='0'>replicas</a></summary>

        - description: desired number of instances
        - default: 2
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='1'>licenseConfidenceThreshold</a></summary>

        - description: 
        - default: 0.2
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='2'>langConfidenceThreshold</a></summary>

        - description: 
        - default: 0.2
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='3'>backoffDuration</a></summary>

        - description: delay between probe attempts
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='4'>debug</a></summary>

        - description: 
        - default: True
```
Sets logging level for shell scripts, root logging level for springboot

```

<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='5'>rbac.create</a></summary>

        - description: 
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='6'>horizontalPodAutoScaler.enabled</a></summary>

        - description: bool to enable HPA
        - default: False
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='7'>podDisruptionBudget.minAvailable</a></summary>

        - description: ensure availability during disruption
        - default: 1
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='8'>livenessProbe.enabled</a></summary>

        - description: boolean to indicate whether or not livenessProbe is activated
        - default: False
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='9'>livenessProbe.initialDelaySeconds</a></summary>

        - description: delay before attempt in seconds
        - default: 20
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='10'>livenessProbe.periodSeconds</a></summary>

        - description: period between attempts
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='11'>livenessProbe.timeoutSeconds</a></summary>

        - description: max response timeout
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='12'>livenessProbe.failureThreshold</a></summary>

        - description: attempt amounts before failure
        - default: 15
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='13'>readinessProbe.enabled</a></summary>

        - description: boolean to indicate whether or not readinessProbe is activated
        - default: False
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='14'>readinessProbe.initialDelaySeconds</a></summary>

        - description: delay before attempt in seconds
        - default: 20
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='15'>readinessProbe.periodSeconds</a></summary>

        - description: period between attempts
        - default: 10
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='16'>readinessProbe.timeoutSeconds</a></summary>

        - description: max response timeout
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='17'>readinessProbe.failureThreshold</a></summary>

        - description: attempt amounts before failure
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='18'>selfAntiAffinity.soft</a></summary>

        - description: flag for affinity type
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='19'>selfAntiAffinity.weight</a></summary>

        - description: weight for affinity
        - default: 100
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='20'>image.initContainer.pullPolicy</a></summary>

        - description: {'Always','IfNotPresent','Never'}
        - default: Always
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='21'>image.initContainer.name</a></summary>

        - description: 
        - default: postgres
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='22'>image.initContainer.tag</a></summary>

        - description: image tag
        - default: 11.3-alpine
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='23'>image.mainContainer.pullPolicy</a></summary>

        - description: {'Always','IfNotPresent','Never'}
        - default: IfNotPresent
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='24'>image.mainContainer.name</a></summary>

        - description: 
        - default: vulas/vulnerability-assessment-tool-rest-backend
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='25'>image.mainContainer.tag</a></summary>

        - description: image tag
        - default: 3.1.7-SNAPSHOT
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        