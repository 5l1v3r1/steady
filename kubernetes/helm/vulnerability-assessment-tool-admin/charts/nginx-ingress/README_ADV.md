
[![version](https://img.shields.io/badge/version-v0.1.0-brightgreen.svg)](https://shields.io/)  [![helmutilsversion](https://img.shields.io/badge/helmutilsversion-0.1.2-orange.svg)](https://shields.io/)  [![githublicense](https://img.shields.io/badge/license-Apache_2.0-blue.svg)](https://shields.io/)

# nginx-ingress

## .Introduction
Helm Chart for vulas-admin nginx stack

## .Prerequisites
- Kubernetes 1.9 with Beta APIs enabled
- Persistent volume provisionner support in underlying infrastructure

## .Installing the chart
To install the chart with the release name `release`:
```console
$ helm install release nginx-ingress --tls
```

The command deploys the nginx-ingress subchart of the vulnerability assessment tool v0.1.0
on the Kubernetes cluster in the default configuration. The configuration section lists
the parameters that can be configured during installation.

## .Uninstalling the chart
To uninstall/delete the `release` deployment:
```console
$ helm delete release
```

## .Configuration
The following table lists the configurable parameters of the nginx-ingress chart and their default values.


| Parameter  |	Description  |	Default |
|:----------:|:-------------:|:--------:|
| <a href='#0'>metrics.enabled</a> |  | `True` |
| <a href='#1'>rbac.create</a> |  | `True` |
| <a href='#2'>defaultBackend.enabled</a> | bool to indicate whether or not to create default backend | `True` |
| <a href='#3'>defaultBackend.replicas</a> | desired number of instances | `1` |
| <a href='#4'>defaultBackend.selfAntiAffinity.soft</a> | flag for affinity type | `True` |
| <a href='#5'>defaultBackend.selfAntiAffinity.weight</a> | weight for affinity | `100` |
| <a href='#6'>defaultBackend.podDisruptionBudget.minAvailable</a> | ensure availability during disruption | `1` |
| <a href='#7'>defaultBackend.image.pullPolicy</a> | {'Always','IfNotPresent','Never'} | `IfNotPresent` |
| <a href='#8'>defaultBackend.image.name</a> |  | `nginx` |
| <a href='#9'>defaultBackend.image.tag</a> | image tag | `1.17.4-alpine` |
| <a href='#10'>defaultBackend.image.runAsUser</a> | UID | `101` |
| <a href='#11'>defaultBackend.image.resources.limits.memory</a> | memory limit for container | `60Mi` |
| <a href='#12'>defaultBackend.image.resources.limits.cpu</a> | cpu limit for container | `110m` |
| <a href='#13'>defaultBackend.image.resources.requests.memory</a> | memory requests for container | `50Mi` |
| <a href='#14'>defaultBackend.image.resources.requests.cpu</a> | cpu requests for container | `100m` |
| <a href='#15'>defaultBackend.livenessProbe.enabled</a> | boolean to indicate whether or not livenessProbe is activated | `True` |
| <a href='#16'>defaultBackend.livenessProbe.initialDelaySeconds</a> | delay before attempt in seconds | `30` |
| <a href='#17'>defaultBackend.livenessProbe.periodSeconds</a> | period between attempts | `10` |
| <a href='#18'>defaultBackend.livenessProbe.timeoutSeconds</a> | max response timeout | `5` |
| <a href='#19'>defaultBackend.livenessProbe.failureThreshold</a> | attempt amounts before failure | `3` |
| <a href='#20'>defaultBackend.readinessProbe.enabled</a> | boolean to indicate whether or not readinessProbe is activated | `True` |
| <a href='#21'>defaultBackend.readinessProbe.initialDelaySeconds</a> | delay before attempt in seconds | `0` |
| <a href='#22'>defaultBackend.readinessProbe.periodSeconds</a> | period between attempts | `5` |
| <a href='#23'>defaultBackend.readinessProbe.timeoutSeconds</a> | max response timeout | `5` |
| <a href='#24'>defaultBackend.readinessProbe.failureThreshold</a> | attempt amounts before failure | `6` |
| <a href='#25'>ingressController.authIngress.enabled</a> | enables auth ingress | `True` |
| <a href='#26'>ingressController.authIngress.credentials.user</a> |  | `vulas` |
| <a href='#27'>ingressController.authIngress.credentials.password</a> |  | `vulas` |
| <a href='#28'>ingressController.replicas</a> | desired number of instances | `3` |
| <a href='#29'>ingressController.updateStrategy.rollingUpdate.maxUnavailable</a> |  | `1` |
| <a href='#30'>ingressController.debugLevel</a> | sets logging level | `error` |
| <a href='#31'>ingressController.external</a> | allows external load balancer | `True` |
| <a href='#32'>ingressController.electionID</a> | Election ID to use for status update | `ingress-controller-leader` |
| <a href='#33'>ingressController.ingressClass</a> | Name of the ingress class to route through this controller | `nginx` |
| <a href='#34'>ingressController.rbac</a> | enables rbac | `True` |
| <a href='#35'>ingressController.selfAntiAffinity.soft</a> | flag for affinity type | `True` |
| <a href='#36'>ingressController.selfAntiAffinity.weight</a> | weight for affinity | `100` |
| <a href='#37'>ingressController.podDisruptionBudget.minAvailable</a> | ensure availability during disruption | `1` |
| <a href='#38'>ingressController.persistentVolume.storage</a> | storage size for PVC | `1Gi` |
| <a href='#39'>ingressController.persistentVolume.storageG</a> |  | `1g` |
| <a href='#40'>ingressController.persistentVolume.mountPath</a> | PVC mountpath | `/tmp/nginx-cache/` |
| <a href='#41'>ingressController.persistentVolume.cache.enabled</a> |  | `True` |
| <a href='#42'>ingressController.persistentVolume.nfs.server</a> | nfs server IP | `10.180.0.47` |
| <a href='#43'>ingressController.persistentVolume.nfs.path</a> | nfs server shared path | `/share_286103e6_72e8_4b84_add3_19bbf0596219` |
| <a href='#44'>ingressController.image.pullPolicy</a> | {'Always','IfNotPresent','Never'} | `IfNotPresent` |
| <a href='#45'>ingressController.image.registry</a> | registry for image | `quay.io` |
| <a href='#46'>ingressController.image.name</a> |  | `kubernetes-ingress-controller/nginx-ingress-controller` |
| <a href='#47'>ingressController.image.tag</a> | image tag | `0.25.0` |
| <a href='#48'>ingressController.image.runAsUser</a> | UID | `33` |
| <a href='#49'>ingressController.image.allowPrivilegeEscalation</a> |  | `True` |
| <a href='#50'>ingressController.image.resources.limits.memory</a> | memory limit for container | `500Mi` |
| <a href='#51'>ingressController.image.resources.limits.cpu</a> | cpu limit for container | `500m` |
| <a href='#52'>ingressController.image.resources.requests.memory</a> | memory requests for container | `150Mi` |
| <a href='#53'>ingressController.image.resources.requests.cpu</a> | cpu requests for container | `80m` |
| <a href='#54'>ingressController.livenessProbe.enabled</a> | boolean to indicate whether or not livenessProbe is activated | `True` |
| <a href='#55'>ingressController.livenessProbe.initialDelaySeconds</a> | delay before attempt in seconds | `15` |
| <a href='#56'>ingressController.livenessProbe.periodSeconds</a> | period between attempts | `10` |
| <a href='#57'>ingressController.livenessProbe.timeoutSeconds</a> | max response timeout | `5` |
| <a href='#58'>ingressController.livenessProbe.failureThreshold</a> | attempt amounts before failure | `10` |
| <a href='#59'>ingressController.livenessProbe.successThreshold</a> |  | `1` |
| <a href='#60'>ingressController.readinessProbe.enabled</a> | boolean to indicate whether or not readinessProbe is activated | `True` |
| <a href='#61'>ingressController.readinessProbe.initialDelaySeconds</a> | delay before attempt in seconds | `10` |
| <a href='#62'>ingressController.readinessProbe.periodSeconds</a> | period between attempts | `60` |
| <a href='#63'>ingressController.readinessProbe.timeoutSeconds</a> | max response timeout | `5` |
| <a href='#64'>ingressController.readinessProbe.failureThreshold</a> | attempt amounts before failure | `10` |
| <a href='#65'>ingressController.readinessProbe.successThreshold</a> |  | `2` |
| <a href='#66'>ingressController.readinessProbe.path</a> |  | `/healthz` |

---
## .Details about configuration
<details closed><summary><a id='0'>metrics.enabled</a></summary>

        - description: 
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='1'>rbac.create</a></summary>

        - description: 
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='2'>defaultBackend.enabled</a></summary>

        - description: bool to indicate whether or not to create default backend
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='3'>defaultBackend.replicas</a></summary>

        - description: desired number of instances
        - default: 1
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='4'>defaultBackend.selfAntiAffinity.soft</a></summary>

        - description: flag for affinity type
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='5'>defaultBackend.selfAntiAffinity.weight</a></summary>

        - description: weight for affinity
        - default: 100
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='6'>defaultBackend.podDisruptionBudget.minAvailable</a></summary>

        - description: ensure availability during disruption
        - default: 1
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='7'>defaultBackend.image.pullPolicy</a></summary>

        - description: {'Always','IfNotPresent','Never'}
        - default: IfNotPresent
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='8'>defaultBackend.image.name</a></summary>

        - description: 
        - default: nginx
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='9'>defaultBackend.image.tag</a></summary>

        - description: image tag
        - default: 1.17.4-alpine
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='10'>defaultBackend.image.runAsUser</a></summary>

        - description: UID
        - default: 101
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='11'>defaultBackend.image.resources.limits.memory</a></summary>

        - description: memory limit for container
        - default: 60Mi
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='12'>defaultBackend.image.resources.limits.cpu</a></summary>

        - description: cpu limit for container
        - default: 110m
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='13'>defaultBackend.image.resources.requests.memory</a></summary>

        - description: memory requests for container
        - default: 50Mi
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='14'>defaultBackend.image.resources.requests.cpu</a></summary>

        - description: cpu requests for container
        - default: 100m
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='15'>defaultBackend.livenessProbe.enabled</a></summary>

        - description: boolean to indicate whether or not livenessProbe is activated
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='16'>defaultBackend.livenessProbe.initialDelaySeconds</a></summary>

        - description: delay before attempt in seconds
        - default: 30
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='17'>defaultBackend.livenessProbe.periodSeconds</a></summary>

        - description: period between attempts
        - default: 10
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='18'>defaultBackend.livenessProbe.timeoutSeconds</a></summary>

        - description: max response timeout
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='19'>defaultBackend.livenessProbe.failureThreshold</a></summary>

        - description: attempt amounts before failure
        - default: 3
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='20'>defaultBackend.readinessProbe.enabled</a></summary>

        - description: boolean to indicate whether or not readinessProbe is activated
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='21'>defaultBackend.readinessProbe.initialDelaySeconds</a></summary>

        - description: delay before attempt in seconds
        - default: 0
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='22'>defaultBackend.readinessProbe.periodSeconds</a></summary>

        - description: period between attempts
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='23'>defaultBackend.readinessProbe.timeoutSeconds</a></summary>

        - description: max response timeout
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='24'>defaultBackend.readinessProbe.failureThreshold</a></summary>

        - description: attempt amounts before failure
        - default: 6
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='25'>ingressController.authIngress.enabled</a></summary>

        - description: enables auth ingress
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='26'>ingressController.authIngress.credentials.user</a></summary>

        - description: 
        - default: vulas
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='27'>ingressController.authIngress.credentials.password</a></summary>

        - description: 
        - default: vulas
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='28'>ingressController.replicas</a></summary>

        - description: desired number of instances
        - default: 3
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='29'>ingressController.updateStrategy.rollingUpdate.maxUnavailable</a></summary>

        - description: 
        - default: 1
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='30'>ingressController.debugLevel</a></summary>

        - description: sets logging level
        - default: error
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='31'>ingressController.external</a></summary>

        - description: allows external load balancer
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='32'>ingressController.electionID</a></summary>

        - description: Election ID to use for status update
        - default: ingress-controller-leader
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='33'>ingressController.ingressClass</a></summary>

        - description: Name of the ingress class to route through this controller
        - default: nginx
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='34'>ingressController.rbac</a></summary>

        - description: enables rbac
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='35'>ingressController.selfAntiAffinity.soft</a></summary>

        - description: flag for affinity type
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='36'>ingressController.selfAntiAffinity.weight</a></summary>

        - description: weight for affinity
        - default: 100
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='37'>ingressController.podDisruptionBudget.minAvailable</a></summary>

        - description: ensure availability during disruption
        - default: 1
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='38'>ingressController.persistentVolume.storage</a></summary>

        - description: storage size for PVC
        - default: 1Gi
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='39'>ingressController.persistentVolume.storageG</a></summary>

        - description: 
        - default: 1g
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='40'>ingressController.persistentVolume.mountPath</a></summary>

        - description: PVC mountpath
        - default: /tmp/nginx-cache/
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='41'>ingressController.persistentVolume.cache.enabled</a></summary>

        - description: 
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='42'>ingressController.persistentVolume.nfs.server</a></summary>

        - description: nfs server IP
        - default: 10.180.0.47
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='43'>ingressController.persistentVolume.nfs.path</a></summary>

        - description: nfs server shared path
        - default: /share_286103e6_72e8_4b84_add3_19bbf0596219
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='44'>ingressController.image.pullPolicy</a></summary>

        - description: {'Always','IfNotPresent','Never'}
        - default: IfNotPresent
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='45'>ingressController.image.registry</a></summary>

        - description: registry for image
        - default: quay.io
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='46'>ingressController.image.name</a></summary>

        - description: 
        - default: kubernetes-ingress-controller/nginx-ingress-controller
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='47'>ingressController.image.tag</a></summary>

        - description: image tag
        - default: 0.25.0
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='48'>ingressController.image.runAsUser</a></summary>

        - description: UID
        - default: 33
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='49'>ingressController.image.allowPrivilegeEscalation</a></summary>

        - description: 
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='50'>ingressController.image.resources.limits.memory</a></summary>

        - description: memory limit for container
        - default: 500Mi
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='51'>ingressController.image.resources.limits.cpu</a></summary>

        - description: cpu limit for container
        - default: 500m
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='52'>ingressController.image.resources.requests.memory</a></summary>

        - description: memory requests for container
        - default: 150Mi
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='53'>ingressController.image.resources.requests.cpu</a></summary>

        - description: cpu requests for container
        - default: 80m
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='54'>ingressController.livenessProbe.enabled</a></summary>

        - description: boolean to indicate whether or not livenessProbe is activated
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='55'>ingressController.livenessProbe.initialDelaySeconds</a></summary>

        - description: delay before attempt in seconds
        - default: 15
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='56'>ingressController.livenessProbe.periodSeconds</a></summary>

        - description: period between attempts
        - default: 10
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='57'>ingressController.livenessProbe.timeoutSeconds</a></summary>

        - description: max response timeout
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='58'>ingressController.livenessProbe.failureThreshold</a></summary>

        - description: attempt amounts before failure
        - default: 10
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='59'>ingressController.livenessProbe.successThreshold</a></summary>

        - description: 
        - default: 1
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='60'>ingressController.readinessProbe.enabled</a></summary>

        - description: boolean to indicate whether or not readinessProbe is activated
        - default: True
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='61'>ingressController.readinessProbe.initialDelaySeconds</a></summary>

        - description: delay before attempt in seconds
        - default: 10
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='62'>ingressController.readinessProbe.periodSeconds</a></summary>

        - description: period between attempts
        - default: 60
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='63'>ingressController.readinessProbe.timeoutSeconds</a></summary>

        - description: max response timeout
        - default: 5
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='64'>ingressController.readinessProbe.failureThreshold</a></summary>

        - description: attempt amounts before failure
        - default: 10
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='65'>ingressController.readinessProbe.successThreshold</a></summary>

        - description: 
        - default: 2
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        
<details closed><summary><a id='66'>ingressController.readinessProbe.path</a></summary>

        - description: 
        - default: /healthz
<a href="#configuration" style="color:grey">Back to configurations</a>
</details>
        