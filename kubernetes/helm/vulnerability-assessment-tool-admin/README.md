# Vulnerability-assessment-tool-admin chart

## Introduction
Helm Chart for vulnerability-assessment-tool cluster admin services

## Prerequisites
-   Kubernetes >=v1.15.0 with Beta APIs enabled
-   Persistent volume provisionner support in underlying infrastructure

## Installing the chart
To install the chart with the release name `release`:
```console
$ helm install release vulnerability-assessment-tool-admin --tls
```

The command deploys the vulnerability-assessment-tool-admin subchart of the vulnerability assessment tool v0.1.0
on the Kubernetes cluster in the default configuration. The configuration section lists
the parameters that can be configured during installation.

## Uninstalling the chart
To uninstall/delete the `release` deployment:
```console
$ helm delete release
```

## Configuration
The following table lists the configurable parameters of the vulnerability-assessment-tool-admin chart and their default values.

| Parameter | Description | Default |
| --- | --- | --- |
| global.namespace | `destination namespace for chart` | `steady-monitoring` |
| global.coreNamespace | `core chart namespace` | `steady-core` |
| global.env | `label for deployment environment` | `TESTING` |
| global.managedRelease | `managed release name` | `canary` |
| global.subPath | `subpath to serve from` | `""` |
| global.ingressController.ports.http.port |  | `80` |
| global.ingressController.ports.http.protocol |  | `TCP` |
| global.ingressController.ports.http.targetPort |  | `80` |
| global.ingressController.ports.https.port |  | `433` |
| global.ingressController.ports.https.protocol |  | `TCP` |
| global.ingressController.ports.https.targetPort |  | `433` |
| global.ingressController.ports.metrics.port |  | `10254` |
| global.ingressController.ports.metrics.protocol |  | `TCP` |
| global.ingressController.ports.metrics.targetPort |  | `10254` |


### NGINX-Ingress controller subchart values
The subchart values can be configured by modifying the values directly in the subdirectory (for more configuration detail see [here](charts/nginx-ingress/README.md)) or overridden in the vulnerability-assessment-tool-admin chart by prepending values with `nginx-ingress`. For example, to modify the `managedRelease` value, you can do;
```
nginx-ingress:
  managedRelease: "canary"
```
